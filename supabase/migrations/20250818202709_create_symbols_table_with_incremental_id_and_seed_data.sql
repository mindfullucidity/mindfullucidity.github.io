CREATE TABLE public.symbols (
    symbol_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    category TEXT NOT NULL,
    name TEXT NOT NULL,
    description TEXT,
    user_id UUID REFERENCES auth.users (id)
);
ALTER TABLE public.symbols ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow read access to all symbols" ON public.symbols FOR SELECT USING (user_id IS NULL OR auth.uid() = user_id);
CREATE POLICY "Allow insert access for authenticated users" ON public.symbols FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Allow update access for authenticated users" ON public.symbols FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Allow delete access for authenticated users" ON public.symbols FOR DELETE USING (auth.uid() = user_id);

INSERT INTO public.symbols (category, name, description, user_id) VALUES
    ('Actions & Events', 'Falling', 'A feeling of losing control or failing in waking life. In Freudian analysis, a fall can symbolize yielding to sexual temptation. Jungian interpretation views falling as a descent into the unconscious mind.', NULL),
    ('Actions & Events', 'Flying', 'A sense of freedom, liberation, or achieving a goal. Freud saw flying as a symbol of sexual arousal.', NULL),
    ('Actions & Events', 'Being Chased', 'Feeling persecuted or avoiding a problem. Jungian theory suggests the chaser is often the Shadow archetype, a repressed part of the self.', NULL),
    ('Actions & Events', 'Being Trapped', 'Feeling helpless or constrained in a real-life situation.', NULL),
    ('Actions & Events', 'Dying/Death', 'The end of a phase, a major transition, or a rebirth. It''s almost never a literal premonition.', NULL),
    ('Actions & Events', 'Being Naked in Public', 'A feeling of vulnerability, shame, or fear of exposure.', NULL),
    ('Actions & Events', 'Losing Teeth', 'A common anxiety dream reflecting powerlessness, loss of control, or communication anxieties. Freud saw this as a symbol of castration anxiety.', NULL),
    ('Actions & Events', 'Taking an Exam', 'Anxiety about performance, a fear of being judged, or feeling unprepared for a challenge.', NULL),
    ('Actions & Events', 'Giving Birth', 'Creating something new, a new project, idea, or personal transformation.', NULL),
    ('Actions & Events', 'Marriage', 'The integration of two parts of the self (Jungian Anima/Animus integration) or a symbol of commitment.', NULL),
    ('Actions & Events', 'Wandering in a Desert', 'Feeling isolated, lost, or lacking emotional fulfillment.', NULL),
    ('Animals & Creatures', 'Snake', 'Transformation, healing, or a hidden danger. Freud viewed snakes as a primary phallic symbol. Jungian theory sees the snake as an archetype of life, death, and rebirth.', NULL),
    ('Animals & Creatures', 'Spider', 'A feeling of being trapped or manipulated. It can also symbolize creativity, as in weaving a web.', NULL),
    ('Animals & Creatures', 'Bird', 'Freedom, hope, or a new perspective. A caged bird may represent feeling restricted.', NULL),
    ('Animals & Creatures', 'Fish', 'The contents of the unconscious mind or emotions. A fish swimming in clear water might indicate emotional clarity.', NULL),
    ('Animals & Creatures', 'Horse', 'Raw power, drive, and freedom. A wild horse can represent untamed desires.', NULL),
    ('Animals & Creatures', 'Bear', 'Primal strength, introspection (hibernation), or a nurturing, protective force.', NULL),
    ('Animals & Creatures', 'Rabbit', 'Fertility, innocence, or a quick, nervous energy.', NULL),
    ('Animals & Creatures', 'Dragon', 'Primal power, spiritual transformation, or a deep-seated fear.', NULL),
    ('Animals & Creatures', 'Wolf', 'Wildness, instinct, and a sense of belonging to a pack. A lone wolf can symbolize a feeling of isolation.', NULL),
    ('Animals & Creatures', 'The Sphinx', 'Represents the wisdom of the unconscious and the challenge of integrating intuition and intellect.', NULL),
    ('Characters & People', 'Strangers', 'Parts of the dreamer''s own psyche. Jungian analysis identifies a stranger as the Shadow archetype, representing repressed, unacknowledged aspects of the self.', NULL),
    ('Characters & People', 'The Anima/Animus', 'The Anima is the personification of the unconscious feminine qualities in a man, often appearing as a mysterious, beautiful woman. The Animus is the masculine side in a woman''s unconscious, often appearing as a strong, commanding male figure.', NULL),
    ('Characters & People', 'The Wise Old Man/Woman', 'An archetype of wisdom, guidance, and spiritual knowledge, often appearing as a mentor, magician, or king.', NULL),
    ('Characters & People', 'The Divine Child', 'An archetype representing potential, innocence, and the future.', NULL),
    ('Characters & People', 'The Mother', 'Can symbolize nurturing, protection, or overwhelming control.', NULL),
    ('Characters & People', 'The Father', 'Represents authority, protection, or a source of law and structure.', NULL),
    ('Characters & People', 'A Baby', 'New beginnings, innocence, or a new project or idea.', NULL),
    ('Characters & People', 'A Celebrity', 'An aspect of the dreamer that they admire or aspire to be.', NULL),
    ('Objects & Items', 'Key', 'A solution to a problem or a new opportunity. In Freudian terms, a key can be a phallic symbol.', NULL),
    ('Objects & Items', 'Car', 'The dreamer''s drive in life and their ability to navigate their path.', NULL),
    ('Objects & Items', 'Water', 'Emotions, especially when contained. Freudian theory views a container as a vaginal symbol.', NULL),
    ('Objects & Items', 'Money', 'Self-worth, power, or value.', NULL),
    ('Objects & Items', 'Mirror', 'Self-reflection and how one sees themselves. A broken mirror might indicate a shattered self-image.', NULL),
    ('Objects & Items', 'Tower', 'A sense of self, an ideal, or ambition. Freud saw towers as a clear phallic symbol.', NULL),
    ('Objects & Items', 'Oven/Oven door', 'An enclosed, receptive space. In Freudian terms, this is a vaginal symbol.', NULL),
    ('Objects & Items', 'Guns/Swords', 'Aggression, power, or defense. Freud considered these common phallic symbols.', NULL),
    ('Objects & Items', 'Boxes/Chests', 'Secrets, repressed feelings, or the unconscious mind.', NULL),
    ('Places & Settings', 'House', 'The psyche. The attic represents the intellectual self, while the basement symbolizes the unconscious mind and repressed thoughts.', NULL),
    ('Places & Settings', 'Forest', 'The unconscious mind, a journey into the unknown. In Jungian analysis, the forest is a place of transformation and encounters with archetypes.', NULL),
    ('Places & Settings', 'Ocean', 'The vast, all-encompassing collective unconscious (Jungian) or the dreamer''s emotions. A calm ocean suggests emotional tranquility.', NULL),
    ('Places & Settings', 'Caves/Dungeons', 'The deepest, most hidden parts of the psyche, often holding repressed memories and primal instincts.', NULL),
    ('Places & Settings', 'Road/Highway', 'The path of life, progress, or direction.', NULL),
    ('Places & Settings', 'School', 'Anxiety about being judged or feeling unprepared.', NULL),
    ('Places & Settings', 'The Labyrinth', 'A journey toward the center of the self, representing the process of individuation.', NULL),
    ('Places & Settings', 'Desert', 'Isolation, emotional barrenness, or a need for spiritual nourishment.', NULL),
    ('Places & Settings', 'Well/Fountain', 'The source of life, creativity, or the unconscious.', NULL),
    ('Colors & Weather', 'Red', 'Passion, anger, love, or danger.', NULL),
    ('Colors & Weather', 'Blue', 'Calmness, sadness, or a spiritual truth.', NULL),
    ('Colors & Weather', 'Black', 'The unknown, mystery, or the end of something.', NULL),
    ('Colors & Weather', 'White', 'Purity, innocence, or new beginnings.', NULL),
    ('Colors & Weather', 'Storm', 'Emotional turmoil, conflict, or a brewing crisis.', NULL),
    ('Colors & Weather', 'Rain', 'Emotional release, sadness, or cleansing.', NULL),
    ('Colors & Weather', 'Sun', 'Happiness, clarity, or a positive outlook.', NULL),
    ('Themes', 'The Quest', 'A journey toward a goal or a discovery of something new. This theme often reflects the dreamer''s search for meaning, purpose, or personal growth in their waking life.', NULL),
    ('Themes', 'Conflict/Battle', 'A theme centered on a struggle, whether with an opponent, a monster, or a natural force. This represents the dreamer''s inner or external conflicts, such as moral dilemmas or personal challenges.', NULL),
    ('Themes', 'Betrayal', 'The overarching plot involves a character deceiving or betraying the dreamer. This theme can symbolize unresolved trust issues, a fear of being hurt, or a past wound that is being processed.', NULL),
    ('Themes', 'Metamorphosis', 'A dream where the central theme is a transformation, either of the dreamer themselves, another character, or a setting. This symbolizes personal change, evolution, and growth.', NULL),
    ('Themes', 'Loss/Abandonment', 'The core of the dream is a feeling of being left behind, losing a person, or the disappearance of a valued object. This often reflects a fear of loneliness or a period of grief and change.', NULL),
    ('Themes', 'Being Lost', 'The dreamer is unable to find their way, which can symbolize a feeling of being directionless in life or uncertain about future choices.', NULL),
    ('Themes', 'Healing/Recovery', 'A dream where the main plot involves healing a wound, recovering from an illness, or bringing something back to life. This theme points to emotional or physical restoration in the dreamer''s life.', NULL)
;